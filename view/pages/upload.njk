{% extends "../layouts/global.njk" %}

{% block body %}
{% include "../components/header.njk" %}

<form action="" class="form-upload" method="POST" enctype="multipart/form-data">
    {{ csrf_input | safe }}
    <div class="line">
        <div class="name-project">
            <label for="">
                Nom du projet
                <input name="name" type="text" required>
                {% if errorCodes['201'] %}
                <p class="error">Le nom du projet est déjà utilisé</p>
                {% endif %}
            </label>
        </div>
        <div class="flex">
            <div class="level">
                <label for="">
                    Niveaux
                <select name="level" id="" required>
                    <option value="1">Débutant</option>
                    <option value="2">Intermédiaire</option>
                    <option value="3">Avancé</option>
                </select>
                {% if errorCodes['204'] %}
                    <p class="error">Niveaux non trouvé</p>
                {% endif %}
                </label>
            </div>

            <div class="categories-projects">
                <label for="">
                    Catégories
                    <select name="category" id="" required>
                        {% for category in projectCategories %}
                          <option value="{{ category.id }}">{{ category.name}}</option>
                        {% endfor %}
                    </select>
                    {% if errorCodes['202'] %}
                        <p class="error">Catégories de projet non trouvé</p>
                    {% endif %}
                </label>
            </div>
            <div class="liste-tp-projects">
                <label for="">
                    Types
                    <select name="type" id="" required>
                        <option value="1">Travaux pratique</option>
                        <option value="2">Projets</option>
                    </select>
                    {% if errorCodes['205'] %}
                        <p class="error">Type non trouvé</p>
                    {% endif %}
                </label>
            </div>
            </div>
        </div>
    </div>
    <div class="link-figma">
        <label for="">
            Lien Figma *
            <input type="text" name="designlink">
            {% if errorCodes['203'] %}
                <p class="error">Lien incorrecte (utiliser un lien figma valide.)</p>
            {% endif %}
        </label>
    </div>

    <div class="link-codesandbox">
        <label for="">
            Lien CodeSandBox *
            <input type="text" name="codesandboxlink">
            {% if errorCodes['206'] %}
            <p class="error">Lien incorrecte (utiliser un lien CodeSandBox valide.)</p>
            {% endif %}
        </label>
    </div>

    <div class="link-github">
        <label for="">
            Lien Github *
            <input type="text" name="githublink">
            {% if errorCodes['207'] %}
                <p class="error">Lien incorrecte (utiliser un lien Github valide.)</p>
            {% endif %}
        </label>
    </div>

    <div class="bio-project">
        <label for="">
            Bio
            <textarea name="description" id="" cols="30" rows="10" required></textarea>
            {% if errorCodes['208'] %}
                <p class="error">La bio est trop courte</p>
            {% endif %}
        </label>
    </div>

    <div class="img-project">
        <label for="">
            Image
            <input type="file" accept="image/svg" name="image" id="">
            {% if errorCodes['209'] %}
                <p class="error">Les images doivetn être en .svg</p>
            {% endif %}
        </label>
    </div>

    <div class="envoie">
        <button type="submit" class="cta-red">Continuer</button>
        <a href="/"><i class="fas fa-sign-in-alt"></i> Retour</a>
    </div>
</form>

{% endblock %}
